@model IEnumerable<Sale_Dance.Models.ApplicationUser>

@{
    ViewData["Title"] = "משתמשים";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
<br />

<div dir="rtl" class="text-right">


    @if (TempData["PublishAlert"] != null)
    {
        <div class="alert alert-danger"> @TempData["PublishAlert"]</div>
    }

    @if (TempData["PublishSuccess"] != null)
    {
        <div class="alert alert-success"> @TempData["PublishSuccess"]</div>
    }


    @if (TempData["UnpublishAlert"] != null)
    {
        <div class="alert alert-success"> @TempData["UnpublishAlert"]</div>
    }

    <div class="row">

        <div class="col-6">

            <h2 class="text-info ">  משתמשים</h2>
        </div>

        <div class="col-6 text-left">

            <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-info "> <i class="fas fa-plus"></i>&nbsp; משתמש חדש</a>
        </div>

    </div>

    <br />

    <table class="table table-striped border">

        <tr class="table-info ">


            <th>
                מייל
            </th>

            <th>
                טלפון
            </th>

            <th>
                מנטרל
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
        <tr>

            <td class="align-middle">
                @Html.DisplayFor(m => item.Email)
            </td>

            <td class="align-middle">
                @Html.DisplayFor(m => item.PhoneNumber)
            </td>

            <td class="align-middle">
                
                @if(item.LockoutEnd != null && item.LockoutEnd > DateTime.Now)
                {
                    <label>מנוטרל</label>
                }
            </td>

            <td>

                <partial name="_UsersTableButtonPartial" model="item" />
            </td>

        </tr>
        }
    </table>

</div>
